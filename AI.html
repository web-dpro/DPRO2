<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Keyboard Input for chat-bubble</title>

	<!-- for mobile screens -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- stylesheets are conveniently separated into components -->
	<link rel="stylesheet" media="all" href="vendor/component/styles/setup.css">
	<link rel="stylesheet" media="all" href="vendor/component/styles/says.css">
	<link rel="stylesheet" media="all" href="vendor/component/styles/reply.css">
	<link rel="stylesheet" media="all" href="vendor/component/styles/typing.css">
	<link rel="stylesheet" media="all" href="vendor/component/styles/input.css">
	<style>
	body {
		background: #dcdde0;
	}
	.bubble-container {
		height: 100vh;
	}
	.bubble-container .input-wrap textarea {
		margin: 0;
		width: calc(100% - 30px);
	}
	</style>
</head>
<body>

<div id="chat"></div>


<script src="vendor/component/Bubbles.js"></script>
<script>

var chatWindow = new Bubbles(document.getElementById("chat"), "chatWindow", {



  inputCallbackFn: function(o) {

    var miss = function() {
      chatWindow.talk(
        {
          "i-dont-get-it": {
            says: [
              "Input salah :( Silahkan ketik ulang",
              "Pilih info yang ingin anda ketahui"
            ],
            reply: o.convo[o.standingAnswer].reply
          }
        },
        "i-dont-get-it"
      )
    }


    var match = function(key) {
      setTimeout(function() {
        chatWindow.talk(convo, key) 
      }, 600)
    }

    
    var strip = function(text) {
      return text.toLowerCase().replace(/[\s.,\/#!$%\^&\*;:{}=\-_'"`~()]/g, "")
    }


    var found = false
    o.convo[o.standingAnswer].reply.forEach(function(e, i) {
      strip(e.question).includes(strip(o.input)) && o.input.length > 0
        ? (found = e.answer)
        : found ? null : (found = false)
    })
    found ? match(found) : miss()
  }
}) 
var convo = {
  pembuka: {
    says: ["Hi", "ada yang bisa kami bantu?"],
    reply: [
      {
        question: "Our Services",
        answer: "services"
      },
      {
        question: "Our Company Group",
        answer: "company"
      },
      {
        question: "visi dan misi Dpro",
        answer: "visimisi"
      },
      {
        question: "kontak kami",
        answer: "kontak"
      },
      {
        question: "alamat kami",
        answer: "alamat"
      },
      {
        question: "Tidak, Terimakasih",
        answer: "tidak"
      }
    ]
  },
  services: {
    says: ["We supply total event management down to the last detail. Our services also include event logistics, risk management,issue identification and public safety, to ensure your event runs without incident . To guarantee you are always presented in your best light, we'll also manage the venue, freight, transport, set design and production,speaker,and presentation services. An Event Management provides a broad range of services thanks to ourin-house and associates talents and solutions. Whether you require event concepts,event management exhibition and stage designs,or video production,we can provide you with your needs competitively. Our service includes :",

      "-Event Management",
      "-Media Requirements",
      "-Financial Control",
      "-Presentation",
      "-Project Management",
      "-Design And Creation",
      "-Technical And Conference Support",
      "-Wedding Management"    ],
    reply: [
      {
        question: "Start Over",
        answer: "pembuka"
      }
    ]
  },
  "company": {
    says: ["1. Tiba-tiba Event",
      "2. Dproposal Wedding",
      "3. BLAKANG RUKO PRODUCTION"],
    reply: [
      {
        question: "Start Over",
        answer: "pembuka"
      }
    ]
  },
  "visimisi": {
    says: [
      "<img src=image/dprojakarta.jpg />",
      "To be the leading company that offers the most creative,exceptional and unforgettable event to the entire Indonesia.."
    ],
    reply: [
      {
        question: "Start Over",
        answer: "pembuka"
      }
    ]
  },
  "kontak": {
    says: [
      "<a href='https://api.whatsapp.com/send?phone=6281287736864&text=halo&source=&data=' target='_blank'><img src='image/whatsapp2.png' width='10' height='90' style='cursor: pointer;'>",
      "whatsapp"
    ],
    reply: [
      {
        question: "Start Over",
        answer: "pembuka"
      }
    ]
  },
  "alamat": {
    says: [
      "<iframe src='https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3965.992146639717!2d106.7961752!3d-6.2647621!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f1993758cc1b%3A0x1ddc3200b60cac57!2s77%2C%20Jl.%20RS.%20Fatmawati%20Raya%20No.A-15%2C%20RT.2%2FRW.5%2C%20Cipete%20Utara%2C%20Kec.%20Kby.%20Baru%2C%20Kota%20Jakarta%20Selatan%2C%20Daerah%20Khusus%20Ibukota%20Jakarta%2012410!5e0!3m2!1sid!2sid!4v1603424954827!5m2!1sid!2sid' width='200' height='200' frameborder='0' style='border:0;' allowfullscreen='' aria-hidden='false' tabindex='0'></iframe>",
      "Graha Mas Fatmawati, Blok A.15 Kav.77 Cipete Utara, Kebayoran Baru, Jakarta Selatan 12150"
    ],
    reply: [
      {
        question: "Start Over",
        answer: "pembuka"
      }
    ]
  },
  "tidak": {
    says: [
      "Terima kasih telah menggunakan fitur kami :)",
      "<img src=image/thankyou.gif />"
    ],
    reply: [
      {
        question: "Start Over",
        answer: "pembuka"
      }
    ]
  }
}


chatWindow.talk(convo)
</script>
</body>
